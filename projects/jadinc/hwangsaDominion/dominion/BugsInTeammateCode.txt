My unit testing immediately revealed a bug in the Smithy card.  The tests checks for a net hand count change of 2 after the card is played (3 cards drawn and 1 discarded).  The net gain was 3, and I learned from examining the code that 4 cards are drawn in the bugged code instead of 3.  The testing for this card was simple, and the only other criterion that was tested was that the played card was discarded.  This condition was met.

Unit testing also revealed a similar bug in Adventurer.  Four cards were drawn from the deck, and the player had two more cards in hand than expected.  I had to take a closer look at the code to really find the source of the problem.  The drawntreasure variable counts from 0 to 2, so the player keeps drawing until 3 treasure cards are drawn, rather than 2.  My test code specifies 5 cards at the top of the deck, including 3 treasure cards.  In addition to the expected net gain of one card not being met, the top two cards in the hand were not a copper and a silver; presumably they were a silver and a gold, because the third treasure card gained would have been gold.
